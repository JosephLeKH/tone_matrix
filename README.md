# ToneMatrix

## Overview

**ToneMatrix** is an interactive 16x16 grid-based digital instrument that allows users to create music through visual and auditory feedback. Each light in the grid represents a note, and the program generates sound by simulating string vibrations. Lights can be toggled on or off, and their states determine the notes played. The program supports dynamic user interaction and provides real-time audio playback.

This project emphasizes low-level memory management, custom data structures, and efficient interaction between graphical and audio systems in C++.

---

## Features

- **Interactive Grid**: A 16x16 grid of lights, where each cell can be toggled on or off via mouse interactions.
- **Real-Time Audio Synthesis**: Sounds are generated by simulating string vibrations, creating a realistic and dynamic musical experience.
- **Mouse Interaction**:
  - `mousePressed`: Toggles the state of the light under the mouse when clicked.
  - `mouseDragged`: Updates lights as the mouse is dragged across the grid.
- **Visual Feedback**: Lights are visually rendered with two distinct colors for on/off states.
- **Dynamic Sound Playback**: The grid's state determines which notes are played, with precise timing to emulate a rhythm.

---

## Installation

1. **Prerequisites**:
   - A C++ compiler that supports modern C++ standards (C++11 or later).
   - A graphics and audio framework (provided by the assignment setup).

2. **Build Instructions**:
   - Clone the repository or download the source code.
   - Ensure all required dependencies are included.
   - Compile the program using your preferred C++ build system.

---

## Usage

1. **Run the Program**: Launch the compiled ToneMatrix executable.
2. **Interact with the Grid**:
   - **Click**: Toggle individual lights on or off.
   - **Drag**: Turn multiple lights on or off in a single motion.
3. **Create Music**:
   - Lights correspond to musical notes; experiment with patterns to create rhythms and melodies.
   - Listen to the output as lights are toggled in real-time.

---

## Code Structure

### `ToneMatrix.h`

Defines the `ToneMatrix` class:
- **Public Methods**:
  - `ToneMatrix(int lightSize)`: Constructs the matrix with lights of specified size.
  - `~ToneMatrix()`: Frees allocated memory.
  - `void mousePressed(int mouseX, int mouseY)`: Handles mouse click events.
  - `void mouseDragged(int mouseX, int mouseY)`: Handles mouse drag events.
  - `void draw() const`: Renders the grid.
  - `Sample nextSample()`: Generates the next audio sample for playback.
- **Private Members**:
  - `_lightDimension`: Size of each light in the grid.
  - `_grid`: Dynamically allocated array representing the grid's state.
  - `_instruments`: Array of `StringInstrument` objects, each corresponding to a row in the grid.

### Key Files:
- **`ToneMatrix.cpp`**: Implements the methods described above.
- **`main.cpp`**: Connects ToneMatrix to the graphics and audio systems.

---

## Acknowledgments

This project is inspired by the principles of interactive design and low-level programming. Special thanks to the Stanford CS department for providing the framework for this assignment.

---

## Enjoy Your Creation!

Play around with your ToneMatrix, experiment with patterns, and create your unique tunes!
